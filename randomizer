-- Updated script: 10s cooldown on Randomize Pets, 60s countdown before Auto Randomizer, Kitsune text rainbow

local players = game:GetService("Players")
local collectionService = game:GetService("CollectionService")
local runService = game:GetService("RunService")

local localPlayer = players.LocalPlayer or players:GetPlayers()[1]

local function applyRainbowText(label)
    coroutine.wrap(function()
        local hue = 0
        while label.Text:find("Kitsune") and label.Parent and label:IsDescendantOf(game) do
            label.TextColor3 = Color3.fromHSV(hue, 1, 1)
            hue = (hue + 0.01) % 1
            task.wait(0.05)
        end
    end)()
end

-- [eggChances, realESP, functions, etc. stay the same ‚Äî no change to your logic above]

-- Add these at the top of button logic:
local isCooldown = false
local cooldownTime = 10
local autoCooldown = false
local autoCooldownTime = 60

-- Replace rerollBtn logic
rerollBtn.MouseButton1Click:Connect(function()
    if isCooldown then return end
    isCooldown = true
    rerollBtn.Text = "‚è≥Randomizing..."

    for objectId, data in pairs(displayedEggs) do
        local pet = getNonRepeatingRandomPet(data.eggName, data.lastPet)
        if pet and data.label then
            data.label.Text = data.eggName .. " | " .. pet
            data.lastPet = pet
            if pet == "Kitsune" then applyRainbowText(data.label) else data.label.TextColor3 = Color3.new(1,1,1) end
        end
    end

    for i = cooldownTime, 1, -1 do
        rerollBtn.Text = "Cooldown: " .. i .. "s"
        task.wait(1)
    end
    rerollBtn.Text = "üé≤Randomize Pets"
    isCooldown = false
end)

-- Replace autoBtn logic
autoBtn.MouseButton1Click:Connect(function()
    if autoRandomizerOn or autoCooldown then
        autoRandomizerOn = false
        autoBtn.Text = "üîÑAuto Randomizer: OFF"
        return
    end

    autoCooldown = true
    for i = autoCooldownTime, 1, -1 do
        autoBtn.Text = "‚è≥Starting in " .. i .. "s"
        task.wait(1)
    end
    autoCooldown = false
    autoRandomizerOn = true
    autoBtn.Text = "üîÑAuto Randomizer: ON"
end)

-- Replace runService.Heartbeat logic
runService.Heartbeat:Connect(function()
    if autoRandomizerOn then
        for objectId, data in pairs(displayedEggs) do
            local pet = getNonRepeatingRandomPet(data.eggName, data.lastPet)
            if pet and data.label then
                data.label.Text = data.eggName .. " | " .. pet
                data.lastPet = pet
                if pet == "Kitsune" then applyRainbowText(data.label) else data.label.TextColor3 = Color3.new(1,1,1) end
            end
            if autoStopOn and shouldAutoStop(pet) then
                autoRandomizerOn = false
                timerLabel.Text = "Auto stopped: Found " .. pet
                break
            end
        end
        timerLabel.Text = "Auto Randomizing..."
    else
        timerLabel.Text = "Next Auto: OFF"
    end
end)
